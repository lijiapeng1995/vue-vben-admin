var h=Object.defineProperty,w=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var M=(t,o,e)=>o in t?h(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,C=(t,o)=>{for(var e in o||(o={}))V.call(o,e)&&M(t,e,o[e]);if(c)for(var e of c(o))g.call(o,e)&&M(t,e,o[e]);return t},v=(t,o)=>w(t,A(o));var F=(t,o,e)=>new Promise((l,i)=>{var u=n=>{try{r(e.next(n))}catch(m){i(m)}},p=n=>{try{r(e.throw(n))}catch(m){i(m)}},r=n=>n.done?l(n.value):Promise.resolve(n.value).then(u,p);r((e=e.apply(t,o)).next())});import k from"./index-01ed1c0c.js";import{a as D}from"./index-a99c5411.js";import S from"./JsonModal-4e75d711.js";import{M as U}from"./antd-2f1e67c0.js";import{d as $,f as y,r as B,G as E,a7 as f,Z as G,a8 as J,a9 as b,l as d}from"./vue-f962b0e4.js";import{e as O}from"./index.js";import"./FormRender-fa695290.js";import"./index-e0200f83.js";import"./formItemConfig-1ea6f4c2.js";import"./componentMap-f7f5ce27.js";import"./useFormItem-be9db066.js";import"./get-3d19de2f.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-b737c8dd.js";import"./index-05c55ef7.js";import"./useWindowSizeFn-844b46eb.js";import"./isBoolean-9388e2d6.js";import"./uuid-31b8b5a4.js";import"./useSortable-b9fa3fd2.js";import"./download-4dc1f19b.js";import"./base64Conver-39fc0d26.js";import"./index-328dacc6.js";import"./IconPicker.vue_vue_type_script_setup_true_lang-32ae3128.js";import"./copyTextToClipboard-1186e738.js";import"./index-8a187562.js";import"./index-c694e7f6.js";import"./useFormDesignState-4fbefc60.js";import"./isNumber-f0336cfd.js";import"./PreviewCode-fadd0298.js";import"./index-3ed7fac6.js";const N=$({name:"VFormPreview",components:{JsonModal:S,VFormCreate:k,Modal:U},setup(){const t=y(null),o=B({formModel:{},formConfig:{},visible:!1,fApi:{}}),e=r=>{D(r.schemas),o.formConfig=r,o.visible=!0},l=()=>{o.visible=!1,o.formModel={}},i=()=>F(this,null,function*(){var n,m,a,s;const r=yield(m=(n=o.fApi).submit)==null?void 0:m.call(n);(s=(a=t.value)==null?void 0:a.showModal)==null||s.call(a,r)}),u=r=>{},p=()=>{o.formModel={}};return v(C({handleGetData:i,handleCancel:l},E(o)),{showModal:e,jsonModal:t,onSubmit:u,onCancel:p})}});function P(t,o,e,l,i,u){const p=f("a-input"),r=f("VFormCreate"),n=f("JsonModal"),m=f("Modal");return G(),J(m,{title:"预览(支持布局)",open:t.visible,onOk:t.handleGetData,onCancel:t.handleCancel,okText:"获取数据",cancelText:"关闭",style:{top:"20px"},destroyOnClose:!0,width:900},{default:b(()=>[d(r,{"form-config":t.formConfig,fApi:t.fApi,"onUpdate:fApi":o[0]||(o[0]=a=>t.fApi=a),formModel:t.formModel,"onUpdate:formModel":o[1]||(o[1]=a=>t.formModel=a),onSubmit:t.onSubmit},{slotName:b(({formModel:a,field:s})=>[d(p,{value:a[s],"onUpdate:value":_=>a[s]=_,placeholder:"我是插槽传递的输入框"},null,8,["value","onUpdate:value"])]),_:1},8,["form-config","fApi","formModel","onSubmit"]),d(n,{ref:"jsonModal"},null,512)]),_:1},8,["open","onOk","onCancel"])}const Co=O(N,[["render",P]]);export{Co as default};
