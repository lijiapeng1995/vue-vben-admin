var W=Object.defineProperty,q=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var T=(n,t,s)=>t in n?W(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s,x=(n,t)=>{for(var s in t||(t={}))Q.call(t,s)&&T(n,s,t[s]);if(P)for(var s of P(t))Z.call(t,s)&&T(n,s,t[s]);return n},L=(n,t)=>q(n,J(t));var w=(n,t,s)=>new Promise((u,l)=>{var _=i=>{try{m(s.next(i))}catch(h){l(h)}},d=i=>{try{m(s.throw(i))}catch(h){l(h)}},m=i=>i.done?u(i.value):Promise.resolve(i.value).then(_,d);m((s=s.apply(n,t)).next())});import{q as $,n as H,a4 as K,w as X,a as Y}from"./index.js";import{_ as tt}from"./BasicForm.vue_vue_type_script_setup_true_lang-b0d03306.js";import"./BasicForm.vue_vue_type_style_index_0_lang-9667d3a7.js";import"./componentMap-f7f5ce27.js";import{u as et}from"./useForm-8838369c.js";import{f as g,d as O,c as z,o as at,a7 as F,Z as B,_ as ot,$ as b,l as a,u as e,a9 as o,N as st,ac as nt,k as rt,E as M,a1 as it,a0 as lt,a8 as pt}from"./vue-f962b0e4.js";import{U as D,p as E,aD as ct,T as I,a9 as ut,aE as dt,ap as mt,a2 as ft,aF as gt,aG as _t,A as ht}from"./antd-2f1e67c0.js";import{P as vt}from"./index-7bb076d5.js";import{d as Ct}from"./table-b1f4ce3d.js";import"./FormItem.vue_vue_type_script_lang-7b2813c2.js";import"./helper-b0407d84.js";import"./isNumber-f0336cfd.js";import"./isBoolean-9388e2d6.js";import"./get-3d19de2f.js";import"./uniqBy-3d1a97d8.js";import"./index-05c55ef7.js";import"./useWindowSizeFn-844b46eb.js";import"./useFormItem-be9db066.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-b737c8dd.js";import"./uuid-31b8b5a4.js";import"./useSortable-b9fa3fd2.js";import"./download-4dc1f19b.js";import"./base64Conver-39fc0d26.js";import"./index-328dacc6.js";import"./IconPicker.vue_vue_type_script_setup_true_lang-32ae3128.js";import"./copyTextToClipboard-1186e738.js";import"./index-8a187562.js";import"./index-c694e7f6.js";import"./useContentViewHeight-4ea1ac81.js";import"./onMountedOrActivated-affa4888.js";const C=g(12),bt=(n=6,t=12)=>({min:n,max:t,marks:(()=>{const u={};for(let l=n;l<t+1;l++)u[l]={style:{color:"#fff"},label:l};return u})(),step:1}),yt={class:"p-2"},wt={class:"p-4 mb-2 bg-white"},Mt={class:"p-2 bg-white"},St={class:"flex justify-end space-x-2"},xt=b("div",{class:"w-50"},"每行显示数量",-1),kt=O({__name:"CardList",props:{params:$.object.def({}),api:$.func},emits:["getMethod","delete"],setup(n,{emit:t}){const s=n,u=D.Item,l=E.Meta,_=ct.Paragraph,d=z(()=>bt(4)),m=g([]),i=z(()=>`h-${120-C.value*6}`),[h,{validate:N}]=et({schemas:[{field:"type",component:"Input",label:"类型"}],labelWidth:80,baseColProps:{span:6},actionColOptions:{span:24},autoSubmitOnEnter:!0,submitFunc:R});function R(){return w(this,null,function*(){const r=yield N();yield f(r)})}function A(r){v.value=r*4,f()}at(()=>{f(),t("getMethod",f)});function f(){return w(this,arguments,function*(r={}){const{api:c,params:y}=s;if(c&&H(c)){const p=yield c(x(L(x({},y),{page:S.value,pageSize:v.value}),r));m.value=p.items,k.value=p.total}})}const S=g(1),v=g(36),k=g(0),V=g({showSizeChanger:!1,showQuickJumper:!0,pageSize:v,current:S,total:k,showTotal:r=>`总 ${r} 条`,onChange:j,onShowSizeChange:G});function j(r,c){S.value=r,v.value=c,f()}function G(r,c){v.value=c,f()}function U(r){return w(this,null,function*(){t("delete",r)})}return(r,c)=>{const y=F("a-button");return B(),ot("div",yt,[b("div",wt,[a(e(tt),{onRegister:e(h)},null,8,["onRegister"])]),b("div",Mt,[a(e(D),{grid:{gutter:5,xs:1,sm:2,md:4,lg:4,xl:6,xxl:e(C)},"data-source":m.value,pagination:V.value},{header:o(()=>[b("div",St,[st(r.$slots,"header"),a(e(I),null,{title:o(()=>[xt,a(e(ut),nt({id:"slider"},d.value,{value:e(C),"onUpdate:value":c[0]||(c[0]=p=>rt(C)?C.value=p:null),onChange:A}),null,16,["value"])]),default:o(()=>[a(y,null,{default:o(()=>[a(e(dt))]),_:1})]),_:1}),a(e(I),{onClick:f},{title:o(()=>[M("刷新")]),default:o(()=>[a(y,null,{default:o(()=>[a(e(mt))]),_:1})]),_:1})])]),renderItem:o(({item:p})=>[a(e(u),null,{default:o(()=>[a(e(E),null,{title:o(()=>[]),cover:o(()=>[b("div",{class:it(i.value)},[a(e(ft),{src:p.imgs[0]},null,8,["src"])],2)]),actions:o(()=>[a(e(gt)),a(e(K),{trigger:["hover"],dropMenuList:[{text:"删除",event:"1",popConfirm:{title:"是否确认删除",confirm:U.bind(null,p.id)}}],popconfirm:""},{default:o(()=>[a(e(_t))]),_:2},1032,["dropMenuList"])]),default:o(()=>[a(e(l),null,{title:o(()=>[a(e(_),{content:p.name,ellipsis:{tooltip:p.address}},null,8,["content","ellipsis"])]),avatar:o(()=>[a(e(ht),{src:p.avatar},null,8,["src"])]),description:o(()=>[M(lt(p.time),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:3},8,["grid","data-source","pagination"])])])}}}),Pt=X(kt),ne=O({__name:"index",setup(n){const{notification:t}=Y(),s={};let u=()=>{};function l(d){u=d}function _(d){t.success({message:`成功删除${d}`}),u()}return(d,m)=>{const i=F("a-button");return B(),pt(e(vt),{title:"卡片列表示例",content:"基础封装"},{default:o(()=>[a(e(Pt),{params:s,api:e(Ct),onGetMethod:l,onDelete:_},{header:o(()=>[a(i,{type:"primary",color:"error"},{default:o(()=>[M(" 按钮1 ")]),_:1}),a(i,{type:"primary",color:"success"},{default:o(()=>[M(" 按钮2 ")]),_:1})]),_:1},8,["api"])]),_:1})}}});export{ne as default};
